{% extends "auth_base.html" %}

{% block title %}Register Organization{% endblock %}

{% block head_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth/org_register.css') }}">
{% endblock %}

{% block content %}
    <div class="register-container">
        <div class="register-header">
            <h2><i class="fas fa-building"></i> Register Organization</h2>
        </div>

        <form id="registrationForm" method="POST" action="{{ url_for('auth.admin_register') }}">
            <div class="register-content">
                <div id="step1" class="step-section active">
                    <h3 class="section-title">Organization Details</h3>

                    <div class="form-group">
                        <label for="orgName" class="required">Organization Name</label>
                        <div class="input-container">
                            <i class="fas fa-building"></i>
                            <input type="text" id="orgName" name="org_name" placeholder="Enter your organization name" value="{{ form_data.get('org_name', '') }}">
                        </div>
                        <div class="error-message" id="orgNameError">Organization Name is required</div>
                    </div>

                    <div class="form-group">
                        <label for="orgCategory" class="required">Organization Category</label>
                        <div class="input-container">
                            <i class="fas fa-tag"></i>
                            <select id="orgCategory" name="org_category">
                                <option value="" disabled {% if not form_data.get('org_category') %}selected{% endif %}>Select organization category</option>
                                <option value="education" {% if form_data.get('org_category') == 'education' %}selected{% endif %}>Education</option>
                                <option value="government" {% if form_data.get('org_category') == 'government' %}selected{% endif %}>Government</option>
                                <option value="it & software service" {% if form_data.get('org_category') == 'it & software service' %}selected{% endif %}>IT & Software Services</option>
                                <option value="society" {% if form_data.get('org_category') == 'society' %}selected{% endif %}>Society</option>
                                <option value="hospital" {% if form_data.get('org_category') == 'hospital' %}selected{% endif %}>Hospital</option>
                                <option value="ngo" {% if form_data.get('org_category') == 'ngo' %}selected{% endif %}>NGO</option>
                                <option value="other" {% if form_data.get('org_category') == 'other' %}selected{% endif %}>Other</option>
                            </select>
                        </div>
                        <div class="error-message" id="orgCategoryError">Organization Category is required</div>
                    </div>

                    <div class="form-group">
                        <label for="website">Official Website (Optional)</label>
                        <div class="input-container">
                            <i class="fas fa-globe"></i>
                            <input type="text" id="website" name="org_website" placeholder="https://www.example.com" value="{{ form_data.get('org_website', '') }}">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactEmail" class="required">Contact Email</label>
                            <div class="input-container">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="contactEmail" name="org_email" placeholder="contact@org.com" value="{{ form_data.get('org_email', '') }}">
                            </div>
                            <div class="error-message" id="contactEmailError">Contact Email is required</div>
                        </div>

                        <div class="form-group">
                            <label for="phone" class="required">Contact Number</label>
                            <div class="input-container">
                                <i class="fas fa-phone"></i>
                                <input type="tel" id="phone" name="org_phone" placeholder="+91 9876543210, 02228045050" value="{{ form_data.get('org_phone', '') }}">
                            </div>
                            <div class="error-message" id="phoneError">Contact Number is required</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="address" class="required">Address</label>
                        <div class="input-container textarea-container">
                            <i class="fas fa-map-marker-alt"></i>
                            <textarea id="address" name="org_address" placeholder="Enter complete organization address">{{ form_data.get('org_address', '') }}</textarea>
                        </div>
                        <div class="error-message" id="addressError">Address is required</div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-primary" id="nextBtn">NEXT <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <div id="step2" class="step-section">
                    <h3 class="section-title">Administrator Details</h3>

                    <div class="form-group">
                        <label for="adminName" class="required">Full Name</label>
                        <div class="input-container">
                            <i class="fas fa-user"></i>
                            <input type="text" id="adminName" name="full_name" placeholder="Admin's full name" value="{{ form_data.get('full_name', '') }}">
                        </div>
                        <div class="error-message" id="adminNameError">Administrator Name is required</div>
                    </div>

                    <div class="form-group">
                        <label for="adminEmail" class="required">Email</label>
                        <div class="input-container">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="adminEmail" name="email" placeholder="admin@org.com" value="{{ form_data.get('email', '') }}">
                        </div>
                        <div class="error-message" id="adminEmailError">Administrator Email is required</div>
                    </div>

                    <div class="form-group">
                        <label for="password" class="required">Password</label>
                        <div class="input-container">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="password" name="password" placeholder="Create a strong password">
                        </div>
                        <div class="error-message" id="passwordError">Password is required</div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword" class="required">Confirm Password</label>
                        <div class="input-container">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="confirmPassword" placeholder="Re-enter password">
                        </div>
                        <div class="error-message" id="confirmPasswordError">Passwords do not match</div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" id="backBtn"><i class="fas fa-arrow-left"></i> BACK</button>
                        <button type="button" class="btn btn-primary" id="registerBtn">REGISTER</button>
                    </div>
                </div>

                <div class="login-link">
                    Already have an account? <a href="{{ url_for('auth.login') }}">LOGIN</a>
                </div>
            </div>
        </form>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/auth/org_register.js') }}"></script>
{% endblock %}
